// 1
section
  h1 gio
  h2 @mokagio
  h1 ⚡️
  br
  h1.fragment

// 2
section
  div(style="text-align: right")
    h1(style="color: #F05138") Less Conventional Swift

// 3
section
  h1 Free Functions
  br
  br
  h3.fragment
    :markdown-it
      ```
      // File.swift

      func transform(input: A) -> B {
        // ...
      }
      ```

// 4
section
  h2 Higher Order Functions
  br
  br
  h2.fragment func as input
  h2.fragment func as output

// 5
section
  h1
    code enum

// 6
section
  img(src='./img/enum-value-not-unique.jpg')

// 7
section
  h2 enum for view state
  br
  h2
    :markdown-it
      ```swift
      enum ViewState<T> {
        case Empty
        case Loading
        case Loaded(T)
        case Errored(ErrorProtocol)
      }
      ```

// 8
section
  h1 Either
  br
  h2.fragment
    :markdown-it
      ```swift
      enum Either<A,B>{
        case Left(A)
        case Right(B)
      }
      ```

// 9
section
  div(style="overflow: auto; zoom: 1;")
    div(style="float: left; width: 70%; max-height: 90%")
      h4
        :markdown-it
          ```swift
          let data: [Either<Pizza, Ad>] = [
            // ...
          ]

          func tableView(
            _ tableView: UITableView,
            cellForRowAt indexPath: IndexPath
            ) -> UITableViewCell {
            let item = data[indexPath.row]

            let identifier = identifier(forItem: item)

            let cell = tableView.dequeueReusableCell(
              withIdentifier: identifier,
              for: indexPath
            )

            switch item {
            case .Left(let model): configure(cell, withModel: model)
            case .Right(let ad): configure(cell, withAd: ad)
            }

            return cell
          }
          ```
    div(style="float: right; width: 30%;")
      img(src="./img/pizza-and-ads.png" style="border: none; background: none;")

// 10
section
  h1 Result
  br
  h2.fragment
    :markdown-it
      ```swift
      enum Result<T> {
        case Success(T)
        case Failure(ErrorProtocol)
      }
      ```

// 11
section
  h3
    :markdown-it
      ```swift
      let task = session.dataTask(with: request) { (result: Result<(Data, URLResponse)>) in
        switch result {
        case .Success(let data, let response):
          // Do stuff with data and response
          break
        case .Failure(let error):
          // Do stuff with error
          break
        }
      }

      task.resume()
      ```

// 12
section
  h3
    a(src='https://github.com/antitypical/Result', target='_blank') https://github.com/antitypical/Result
  br
  br
  div.fragment
    :markdown-it
      ## `map`, `flatMap`
  div.fragment
    :markdown-it
      ## `mapError`, `flatMapError`

// 13
section
  h2 materialize
  div(style="font-size: 1.2em")
    :markdown-it
      ```swift
      do {
        let json = try JSONSerialization.jsonObject(with: data, options: [])
      } catch {
        print(error)
      }

      //
      // materialize!
      //

      let json = materialize {
        try JSONSerialization.jsonObject(with: data, options: [])
      }

      switch json {
      case .Success(let object):
        // Do stuff with actual value
        break
      case .Failure(let error):
        // Do stuff with error
        break
      }
      ```

// 14
section
  div
    :markdown-it
      ## `Optional<T>`
  div.fragment
    :markdown-it
      ## `Either<A,B>`
  div.fragment
    :markdown-it
      ## `Result<T>`

// 15
section
  h1 Generics
  div.fragment
    h2 &
    h1 Abstractions

// 16
section
  h2 GenericTableViewController
  br
  h3
    :markdown-it
      ```swift
      let vc: GenericTableViewController<String> =
        tableViewController(
          with: pizzaNames,
          cellClass: UITableViewCell.self,
          configurator: { value, cell in
            cell.textLabel?.text = value
          }
        )
      ```
  br
  br
  h4
    a(src='https://github.com/mokagio/GenericTableViewController', target='_blank') https://github.com/mokagio/GenericTableViewController

// 17
section
  h1
    code init?

// 18
section
  h1 Dependant Types
  br
  br
  h2.fragment
    code NotEmptyArray
  h2.fragment
    code PhoneNumber
  h2.fragment
    code BoundedInt

// 19
section
  img(src="img/logos.png")

// 20
section
  h2 Try less conventional code
  br
  br
  div.fragment
    div
      img(src="img/just-do-it.gif")
    br
    br
    h3 @mokagio
